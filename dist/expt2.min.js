"use strict";function update(t){lab&&lab.active&&lab.update(t)}var ENJ={scaleX:.990625,scaleY:.790625},CRE=createjs,RES=new CRE.LoadQueue;RES.getRes=RES.getResult,ENJ.assign=function(t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("target must be object or function");var e,s,i,o=arguments.length;for(i=1;o>i;i++){e=arguments[i];for(s in e)e.hasOwnProperty(s)&&Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}return t},ENJ.defineClass=function(t,e){var s,i;if("extend"in t){if(i=t.extend,"function"!=typeof i)throw new TypeError("superClass must be a function")}else i=Object;if("constructor"in t){if(s=t.constructor,"function"!=typeof s)throw new TypeError("subClass must be a function")}else s=function(){i.apply(this,arguments)};return s.prototype=Object.create(i.prototype),t&&ENJ.assign(s.prototype,t),e&&ENJ.assign(s,i,e),Object.defineProperty(s.prototype,"constructor",{value:s,enumerable:!1,writable:!0,configurable:!0}),s},ENJ.Element=function(){var t=CRE.Container,e=CRE.Point;return ENJ.defineClass({constructor:function(e){t.apply(this,arguments),this.register(),"object"==typeof e&&(this._store=e),this.ready()},extend:t,get active(){return this._active},register:function(){this._store={},this._active=!1,this.index=-1,this.location=null},ready:function(){},refresh:function(){},release:function(){this.removeAllEventListeners()},start:function(){this._active=!0},stop:function(){this._active=!1},locate:function(t,s,i){var o=this;s?(o.set(s),o.location=s):o.location=new e(o.x,o.y),void 0===i?o.index=t.getChildIndex(o):(o.index=i,i!==t.getChildIndex(o)&&t.setChildIndex(o,i))},store:function(t,e){var s,i=this;if("object"==typeof t){s=t;for(t in s)s.hasOwnProperty(t)&&i.store(t,s[t])}return"string"!=typeof t?i:void 0!==e&&e!==i._store[t]?(i._store[t]=e,i.storeChanged(t),i):i._store[t]},storeChanged:function(t){}})}(),ENJ.NumLabel=function(){var t=ENJ.Element,e=CRE.Bitmap,s=CRE.Text;return ENJ.defineClass({constructor:function(e){t.call(this,e)},extend:t,register:function(){t.prototype.register.call(this),this.field=null},ready:function(){var t,i;i=new e(RES.getRes("标签")),t=new s,t.set({color:"#fff",font:"12px Arial",x:15,y:5}),this.addChild(i,t),this.field=t},storeChanged:function(t){var e=this,s=e.store(t);switch(t){case"num":e.field.text=s.toFixed(2)+e.store("unit")}}})}(),ENJ.Board=function(){var t=ENJ.Element,e=CRE.Shape,s=CRE.Text,i=CRE.Graphics;return ENJ.defineClass({constructor:function(e){t.call(this,e)},extend:t,ready:function(){var t,o,n,r=this;t=new i,t.beginFill("#000").drawRect(-80,0,1250,640),o=new e(t),n=new s,n.set({x:510,y:300,color:"#fff",font:"bold 36px Arial",textAlign:"center"}),r.addChild(o,n),r.set({label:n,rect:o})},storeChanged:function(t){var e=this,s=e.store(t),i=e.label;switch(t){case"title":i.text=s}}})}(),ENJ.Curve=function(){var t=CRE.Shape,e=CRE.Graphics;return ENJ.defineClass({constructor:function(s){t.call(this,s||new e)},extend:t,update:function(t,e){var s,i=[];i[0]=t,i[6]=e,s=Math.sqrt((i[6].x-i[0].x)*(i[6].x-i[0].x)+(i[6].y-i[0].y)*(i[6].y-i[0].y)),i[1]=new CRE.Point(2/12*s,-100),i[2]=new CRE.Point(4/12*s,0),i[3]=new CRE.Point(.5*s,100),i[4]=new CRE.Point(8/12*s,50),i[5]=new CRE.Point(10/12*s,0),i[6].x=i[6].x-i[0].x,i[6].y=i[6].y-i[0].y,this.graphics.clear().setStrokeStyle(4,1,1).beginStroke("#000").moveTo(0,0).quadraticCurveTo(i[1].x,i[1].y,i[2].x,i[2].y).quadraticCurveTo(i[3].x,i[3].y,i[4].x,i[4].y).quadraticCurveTo(i[5].x,i[5].y,i[6].x,i[6].y).endStroke(),this.x=i[0].x+9,this.y=i[0].y+5}})}(),ENJ.LiquidContainer=function(){var t=ENJ.Element,e=CRE.Bitmap,s=CRE.Tween;return ENJ.defineClass({constructor:function(e){t.apply(this,arguments)},extend:t,register:function(){t.prototype.register.call(this),this.shape=null,this.label=null},refresh:function(){this.shape.rotation=-this.rotation,this.level&&(this.level.rotation=-this.rotation)},showLabel:function(){var t=this.label;t&&(t.alpha=1,t.visible=!0)},hideLabel:function(){var t=this.label;t&&s.get(t).to({alpha:0},1e3).call(function(){t.visible=!1})}},{createLiquid:function(t,s,i){var o,n,r,a,l=new e(RES.getRes(t)),c=l.getBounds().clone();return o=(s>>24&255)/255,n=s>>16&255,r=s>>8&255,a=255&s,l.filters=[new CRE.ColorFilter(0,0,0,o,n,r,a,0)],l.cache(0,0,c.width,c.height),l.setBounds(0,0,c.width,c.height),l.mask=i,l}})}(),ENJ.SuckBall=function(){var t=ENJ.Element,e=CRE.Bitmap,s=CRE.Tween;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,ready:function(){var t,s;t=new e(RES.getRes("吸球")),t.x=-22,s=new e(RES.getRes("吸嘴")),s.x=-6,s.y=-48,this.addChild(s,t),this.ball=t},scale:function(){this.ball.scaleY=.5},suck:function(){s.get(this.ball).to({scaleY:1},500)}})}(),ENJ.Buret=function(){var t=ENJ.LiquidContainer,e=CRE.Shape,s=CRE.Bitmap,i=CRE.Graphics;return ENJ.defineClass({constructor:function(e){t.call(this,e)},extend:t,ready:function(){var o,n,r,a,l,c=this;o=new i,o.beginFill("#0f0").drawRect(-200,0,400,640),n=new e(o),n.x=20,r=t.createLiquid("滴定管液体",c.store("color"),n),l=new s(RES.getRes("滴定管")),a=new ENJ.NumLabel({unit:"ml"}),a.visible=!1,a.x=10,c.addChild(r,l,a),c.total=100,c.label=a,c.shape=n,c.storeChanged("volume")},refresh:function(){var t=this;t.scaleX<0?t.shape.rotation=-2*t.rotation+90:t.shape.rotation=-t.rotation},storeChanged:function(t){var e=this.store(t);switch(t){case"volume":this.shape.set({y:450-450*e/80+50}),this.label.num=80-e,this.label.store("num",80-e),this.label.y=this.shape.y-10}}})}(),ENJ.Beaker=function(){var t=ENJ.LiquidContainer,e=CRE.Shape,s=CRE.Bitmap,i=CRE.Graphics;return ENJ.defineClass({constructor:function(e){t.call(this,e)},extend:t,ready:function(){var o,n,r,a,l,c,h=this;o=new i,o.beginFill("#0f0").drawRect(-200,0,400,200).drawEllipse(-38,-7.5,76,15),n=new e(o),n.x=50,o=new i,o.beginFill("#fff").drawCircle(0,0,38),a=new e(o),a.set({x:n.x-4,scaleY:.2,alpha:.2}),r=new ENJ.NumLabel({unit:"ml"}),r.x=10,l=t.createLiquid("烧杯液体",h.store("color"),n),c=new s(RES.getRes("烧杯")),h.addChild(l,a,c),h.set({liquid:l,label:r,level:a,shape:n}),h.storeChanged("volume")},refresh:function(){var t=this,e=Math.sin(t.rotation/180*Math.PI);t.shape.rotation=-t.rotation,t.shape.x=50+36*e},storeChanged:function(e){var s=this,i=s.store(e),o=s.label,n=s.shape;switch(e){case"volume":0>=i?(s.level.visible=!1,s.level.y=n.y=500):(this.fixing||(s.level.visible=!0),s.level.y=n.y=100-100*i/100-0),o.store("num",i),o.y=n.y-10;break;case"color":s.liquid=t.createLiquid("烧杯液体",i,n),s.removeChildAt(0),s.addChildAt(s.liquid,0)}},fix:function(){var t=this;t.fixing=!0,t.level.visible=!1,t.shape.scaleX=2,t.regX=100},unfix:function(){var t=this;t.fixing=!1,t.level.visible=!0,t.shape.scaleX=1,t.regX=0}})}(),ENJ.Cylinder=function(){var t=ENJ.LiquidContainer,e=CRE.Shape,s=CRE.Bitmap,i=CRE.Graphics;return ENJ.defineClass({constructor:function(e){t.call(this,e)},extend:t,ready:function(){var o,n,r,a,l=this;o=new i,o.beginFill("#0f0").drawRect(-300,0,600,400),n=new e(o),n.x=35,r=t.createLiquid("量筒液体",l.store("color"),n),a=new s(RES.getRes("量筒")),l.addChild(r,a),l.shape=n,l.storeChanged("volume")},storeChanged:function(t){var e=this.store(t);switch(t){case"volume":this.shape.y=290-2.15*e-25}}})}(),ENJ.WaterBottle=function(){return ENJ.defineClass({constructor:function(){ENJ.Element.apply(this,arguments)},extend:ENJ.Element,ready:function(){var t,e;t=new CRE.Bitmap(RES.getRes("蒸馏水瓶"));var s={images:[RES.getRes("水流")],frames:{width:200,height:200}},i=new CRE.SpriteSheet(s);this.flow=e=new CRE.Sprite(i),e.set({y:25,scaleX:-.5,scaleY:.5,visible:!1}),e.framerate=30,this.addChild(t,e)},dump:function(t,e){var s=this.flow;t?(s.visible=!0,s.rotation=e,s.gotoAndPlay(0)):(s.visible=!1,s.rotation=0,s.gotoAndStop(0))}})}(),ENJ.VolumetricFlask=function(){var t=ENJ.LiquidContainer,e=CRE.Tween,s=CRE.Shape,i=CRE.Bitmap,o=CRE.Graphics,n=t.prototype;return ENJ.defineClass({constructor:function(e){t.call(this,e)},extend:t,ready:function(){var e,n,r,a,l,c,h,u=this;e=new o,e.beginFill("#0f0").drawRect(-200,0,400,400),n=new s(e),n.x=63,r=new ENJ.NumLabel({unit:"ml"}),r.visible=!1,r.x=75,a=t.createLiquid("容量瓶液体",u.store("color"),n),c=new i(RES.getRes("容量瓶")),h=new i(RES.getRes("容量瓶盖")),h.set({x:45,y:-40}),u.addChild(a,l,c,h,r),u.set({cap:h,label:r,shape:n}),u.storeChanged("volume")},storeChanged:function(t){var e=this.store(t),s=this.label,i=this.shape;switch(t){case"volume":80>e?i.y=256-e*e/6400*100:i.y=156-60*(e-80)/20,s.store("num",e),s.y=i.y-10}},start:function(){n.start.call(this),e.get(this.cap).to({x:0,y:-60,rotation:-30,alpha:0},250)},stop:function(){n.stop.call(this),e.get(this.cap).to({x:45,y:-40,rotation:0,alpha:1},250)},refresh:function(){var t=(this.store("volume"),this.shape);t.rotation=-this.rotation,this.rotation>90?t.y=180:this.storeChanged("volume")}})}(),ENJ.SoySauce=function(){var t=ENJ.LiquidContainer,e=CRE.Tween,s=CRE.Shape,i=CRE.Bitmap,o=CRE.Graphics;return ENJ.defineClass({constructor:function(e){t.call(this,e)},extend:t,ready:function(){var e,n,r,a,l,c=this;e=new o,e.beginFill("#0f0").drawRect(-200,0,400,400),n=new s(e),n.x=63,r=t.createLiquid("酱油",c.store("color"),n),a=new i(RES.getRes("酱油瓶")),l=new i(RES.getRes("酱油瓶盖")),l.set({x:26,y:-15}),c.addChild(r,a,l),c.cap=l,c.shape=n,c.storeChanged("volume")},storeChanged:function(t){var e=this.store(t);switch(t){case"volume":this.shape.y=260-260*e/250}},start:function(){t.prototype.start.call(this),e.get(this.cap).to({x:0,y:-50,rotation:-30,alpha:0},300)},stop:function(){t.prototype.stop.call(this),e.get(this.cap).to({x:26,y:-15,rotation:0,alpha:1},300)}})}(),ENJ.ReagenBottle=function(){var t=ENJ.LiquidContainer,e=CRE.Tween,s=CRE.Shape,i=CRE.Bitmap,o=CRE.Graphics,n=t.prototype;return ENJ.defineClass({constructor:function(e){t.apply(this,arguments)},extend:t,ready:function(){var e,n,r,a,l,c,h,u=this;c=new o,c.beginFill("#0f0").drawRect(-100,0,300,300),e=new s(c),e.x=50,n=t.createLiquid("试剂瓶液体",u.store("color"),e),r=new i(RES.getRes("试剂瓶")),a=new i(RES.getRes(u.store("icon"))),a.set({x:10,y:80}),l=new i(RES.getRes(u.store("cap"))),u.store("dark")&&(h=l.getBounds(),l.filters=[new CRE.ColorFilter(.4,.2,0,1.8,0,0,0)],l.cache(0,0,h.width,h.height)),l.set({x:26,y:-8});var p=new CRE.Container;u.store("dark")&&(h=r.getBounds(),r.filters=[new CRE.ColorFilter(.4,.2,0,1.8,0,0,0)],r.cache(0,0,h.width,h.height)),p.addChild(r,a),u.addChild(n,l,p),u.shape=e,u.cap=l,u.storeChanged("volume"),u.setBounds(0,0,90,169)},storeChanged:function(t){var e=this.store(t),s=(this.label,this.shape);switch(t){case"volume":s.y=120-120*e/500+49}},start:function(){n.start.call(this),e.get(this.cap).to({x:0,y:-60,rotation:-30,alpha:0},250)},stop:function(){n.stop.call(this),e.get(this.cap).to({x:26,y:-8,rotation:0,alpha:1},250)}})}(),ENJ.PHElectrode=function(){var t=ENJ.Element,e=CRE.Tween,s=CRE.Bitmap;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,ready:function(){var t,e;e=new s(RES.getRes("PH电极套")),e.x=-2.5,e.y=150,t=new s(RES.getRes("PH电极")),this.addChild(t,e),this.cap=e},start:function(){t.prototype.start.call(this),e.get(this.cap).to({x:10,y:250,rotation:-30,alpha:0},250)},stop:function(){t.prototype.stop.call(this),e.get(this.cap).to({x:0,y:150,rotation:0,alpha:1},250)}})}(),ENJ.PHInstrument=function(){var t=ENJ.Element,e=CRE.Tween,s=CRE.Text,i=CRE.Bitmap,o=CRE.Shape;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,ready:function(){var t,e,n,r,a;t=new i(RES.getRes("PH仪")),e=new i(RES.getRes("PH仪面板")),e.set({x:160,y:160,visible:!1,regX:80,regY:80}),n=new s,n.set({x:100,y:50,visible:!1,color:"#fff",font:"bold 24px Arial"}),r=new o,r.graphics.beginFill("#000").drawCircle(0,0,20),r.set({x:210,y:115,alpha:.01}),a=new o,a.graphics.beginFill("#000").drawCircle(0,0,23),a.set({x:163,y:135,alpha:.01}),this.addChild(t,e,n,r,a),this.plane=e,this.label=n,this.btn1=r,this.btn2=a,r.cursor="pointer",a.cursor="pointer"},start:function(){t.prototype.start.call(this);var s=this,i=this.plane;i.set({visible:!0,scaleX:.6,scaleY:.1,alpha:.5}),e.get(i).to({scaleX:1,scaleY:1,x:160,y:80,alpha:1},500).call(function(){s.label.visible=!0})},stop:function(){var s=this;s.label.visible=!1,e.get(s.plane).to({alpha:0},500).call(function(){s.plane.visible=!0}),t.prototype.stop.call(s)},willCorrect:function(){this.active&&this.btn1.addEventListener("click",this.onCorrect.bind(this))},willRead:function(){this.active&&this.btn2.addEventListener("click",this.onRead.bind(this))},onCorrect:function(){this.btn1.removeAllEventListeners(),this.dispatchEvent("correct")},onRead:function(){this.btn2.removeAllEventListeners(),this.dispatchEvent("read")},storeChanged:function(t){switch(t){case"number":this.label.text=""+this.store(t)}}})}(),ENJ.MagneticStirrer=function(){var t=ENJ.Element,e=CRE.Tween,s=CRE.Bitmap;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,ready:function(){var t,e;t=new s(RES.getRes("磁力搅拌器")),e=new s(RES.getRes("磁力搅拌器旋钮")),e.set({x:98.5,y:109,regX:12.5,regY:13}),this.addChild(t,e),this.button=e},start:function(){t.prototype.start.call(this),e.get(this.button).to({rotation:120},250)},stop:function(){e.get(this.button).to({rotation:0},250),t.prototype.stop.call(this)}})}(),ENJ.TitrationStand=function(){var t=ENJ.Element,e=CRE.Bitmap,s=CRE.Sprite,i=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,ready:function(){var t,i,o;t=new e(RES.getRes("滴定架")),o={images:[RES.getRes("蝴蝶夹")],frames:{width:82,height:111}},i=new s(new CRE.SpriteSheet(o)),i.set({x:5,y:20}),i.gotoAndStop(0),this.addChild(i,t),this.clip=i,this.regX=131},start:function(){i.start.call(this),this.clip.gotoAndStop(0)},stop:function(){this.clip.gotoAndStop(1),i.stop.call(this)}})}(),ENJ.Pipet=function(){var t=ENJ.LiquidContainer,e=CRE.Shape,s=CRE.Bitmap,i=CRE.Graphics;return ENJ.defineClass({constructor:function(e){t.apply(this,arguments)},extend:t,ready:function(){var o,n,r,a,l,c=this;o=new i,o.beginFill("#0f0").drawRect(-200,0,400,240),n=new e(o),n.x=8,r=new ENJ.NumLabel({unit:"ml"}),r.visible=!1,r.x=10,a=t.createLiquid("移液管液体",c.store("color"),n),l=new s(RES.getRes("移液管")),c.addChild(a,l,r),c.set({label:r,shape:n,rotation:-90,ratio:this.store("ratio")||1}),c.storeChanged("volume")},storeChanged:function(t){var e=this.store(t),s=this.label,i=this.shape;switch(t){case"volume":i.set({y:240-240*e/10+60,scaleY:e/8}),s.store("num",e*this.ratio),s.y=i.y-10}}})}(),ENJ.ResultTable_2=function(){var t=ENJ.Element,e=CRE.Bitmap,s=CRE.Text;return ENJ.defineClass({constructor:function(e){t.call(this,e)},extend:t,ready:function(){var t,i,o,n,r=this,a=["v1_1","v1_2","v1","v2_1","v2_2","xx"];for(t=new e(RES.getRes("结果报告2")),i=new e(RES.getRes("关闭按钮")),i.set({regX:24,regY:24,cursor:"pointer"}),i.set({x:700,y:10}),r.btn=i,r.addChild(t,i),n=0;n<a.length;++n)o=new s(""),o.set({color:"#000",font:"bold 18px Arial",textAlign:"center"}),r[a[n]]=o,r.addChild(o);r.v1_1.set({x:200,y:130}),r.v1_2.set({x:310,y:130}),r.v1.set({x:415,y:130}),r.v2_1.set({x:525,y:130}),r.v2_2.set({x:630,y:130}),r.xx.set({x:415,y:165}),i.addEventListener("mousedown",function(){i.set({scaleX:.8,scaleY:.8})}),i.addEventListener("pressup",function(){i.set({scaleX:1,scaleY:1}),r.dispatchEvent("close")})},storeChanged:function(t){var e=this,s=e.store(t);e.label;switch(t){case"v1_1":e.v1_1.text=""+s;break;case"v1_2":e.v1_2.text=""+s;break;case"v1":e.v1.text=""+s;break;case"v2_1":e.v2_1.text=""+s;break;case"v2_2":e.v2_2.text=""+s;break;case"xx":e.xx.text=""+s}}})}(),ENJ.Scene=function(){var t=CRE.Container;return ENJ.defineClass({constructor:function(){t.apply(this,arguments),this.register(),this.ready()},extend:t,register:function(){},ready:function(){},place:function(t,e,s){e?(t.set(e),t.location=e):t.location=new Point(t.x,t.y),void 0===s?t.index=this.getChildIndex(t):(t.index=s,s!==this.getChildIndex(t)&&this.setChildIndex(t,s))},setToTop:function(t,e){e=e||1,this.setChildIndex(t,this.numChildren-e)},getLocalMouse:function(){return this.globalToLocal(this.stage.mouseX,this.stage.mouseY)}})}(),ENJ.Scene_2=function(){var t=ENJ.Scene,e=CRE.Bitmap,s=CRE.Point;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,ready:function(){var t,i,o,n,r,a,l,c,h,u,p,d,f,E,v,g,b,m,y,x,S,C,w,N,k,J,R,_,L,B,P,T=this,I=[],A=[],q=[],F=[];for(t=new e(RES.getRes("背景")),i=new e(RES.getRes("纸巾")),i.visible=!1,y=new e(RES.getRes("引流棒")),o=new ENJ.Curve,l=new e(RES.getRes("水滴")),l.visible=!1,n={images:[RES.getRes("剪刀")],frames:{width:133,height:73},animations:{close:1,open:0}},r=new CRE.SpriteSheet(n),p=new CRE.Sprite(r),p.gotoAndStop("open"),p.set({regX:73,regY:36}),n={images:[RES.getRes("手")],frames:{width:100,height:129},animations:{up:0,down:1}},r=new CRE.SpriteSheet(n),u=new CRE.Sprite(r),u.gotoAndStop("up"),u.visible=!1,n={images:[RES.getRes("转子")],frames:{width:40,height:19}},r=new CRE.SpriteSheet(n),f=0;2>f;++f)h=new CRE.Sprite(r),h.gotoAndStop(0),F.push(h);for(n={images:[RES.getRes("袋子")],frames:{width:100,height:96},animations:{normal:0,open:1}},r=new CRE.SpriteSheet(n),f=0;2>f;++f)a=new CRE.Sprite(r),a.gotoAndStop("normal"),a.set({scaleY:.4,skewX:50,regX:50,regY:48}),I.push(a);for(N=new e(RES.getRes("粉末")),N.visible=!1,C=new ENJ.MagneticStirrer,b=new ENJ.WaterBottle(RES.getRes("蒸馏水瓶")),_=new ENJ.ReagenBottle({volume:500,color:587202559,icon:"氢氧化钠标签",cap:"盖子甲"}),g=new e(RES.getRes("移液管架")),J=new ENJ.TitrationStand,J.scaleX=-1,k=new ENJ.Buret({volume:0,color:587202559}),L=new ENJ.SuckBall,B=new ENJ.SoySauce({volume:180,color:1714618368}),P=new ENJ.Pipet({volume:0,color:1714618368}),P.rotation=-90,y.rotation=-90,R=new ENJ.PHElectrode,w=new ENJ.PHInstrument,S=new ENJ.Cylinder({volume:0,color:587202559}),f=0;2>f;++f)m=new ENJ.VolumetricFlask({volume:0,color:587202559}),this.place(m,new s(130+100*f,200+20*f)),q.push(m);for(f=0;4>f;++f)d=new ENJ.Beaker({volume:0,color:587202559}),this.place(d,new s(100-30*f,450+20*f)),A.push(d);for(x=new ENJ.Beaker({volume:10,color:1711276287}),x.set({scaleX:1.25,scaleY:1.25}),v=new ENJ.ResultTable_2,v.set({regX:360,regY:200}),v.set({x:480,y:320,visible:!1}),c=new CRE.Text,c.set({x:50,y:50,color:"#fff",font:"bold 18px Arial"}),E=new ENJ.Board,E.visible=!1,T.addChild(t,g,I[0],I[1],C,_,S,b,L,P,q[0],q[1],J,y,F[0],F[1],o,w,N,B,R,A[0],A[1],A[2],A[3],x,k,p,i,u,l,v,c,E),f=0;2>f;++f)T.place(q[f],new s(130+100*f,200+20*f));for(f=0;2>f;++f)T.place(I[f],{x:510-60*f,y:480+10*f});for(f=0;2>f;++f)T.place(F[f],{x:600+20*f,y:470+10*f});for(f=0;4>f;++f)T.place(A[f],new s(100-30*f,450+20*f));T.place(x,new s(100,1e3)),t.set({regX:600,regY:320,scaleX:1.2}),T.place(t,new s(480,320)),T.place(b,new s(425,230)),T.place(g,new s(700,270)),T.place(J,new s(1100,50)),T.place(k,new s(650,1e3)),T.place(w,new s(680,380)),T.place(y,new s(680,320)),T.place(C,new s(600,500)),T.place(_,new s(560,300)),T.place(P,new s(700,300)),T.place(L,new s(670,440)),T.place(S,new s(340,180)),T.place(B,new s(40,210)),T.place(R,new s(690,330)),o.update(R,new CRE.Point(800,480)),T.set({curve:o,hand:u,stirrer:C,scissors:p,drainageBar:y,titrationStand:J,phElectrode:R,phInstrument:w,bigBeaker:x,beaker:A[3],pipet:P,waterBottle:b,soySauce:B,suckBall:L,powder:N,paper:i,cylinder:S,bags:I,beakers:A,rotors:F,volumetricFlasks:q,reagenBottle:_,drop:l,buret:k,tip:c,board:E,table:v})}})}(),ENJ.Step=function(){var t=CRE.EventDispatcher;return ENJ.defineClass({constructor:function(e){t.apply(this,arguments),this.scene=e.scene,this.store=e.store},extend:t,get active(){return this._active},update:function(){},start:function(){this._active=!0},stop:function(){this._active=!1,this.dispatchEvent("complete")}})}(),ENJ.Step_CutBag=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t,i,o=this.store,n=this.scene,r=this.handlers=[];t=this.bag=n.bags[o.bag],i=this.scissors=n.scissors,t.cursor="pointer",i.cursor="pointer",i.visible=!1,this.flags=[],r[0]=this.onClickBag.bind(this),r[1]=this.onMouseScissors.bind(this),n.setChildIndex(t,n.getChildIndex(i)-1),e.get(t).wait(1e3).to({x:320,y:450,scaleY:1,skewX:0,rotation:-45},500).call(function(){i.visible=!0,i.gotoAndStop("open"),i.addEventListener("mousedown",r[1]),i.addEventListener("pressup",r[1])})},stop:function(){s.stop.call(this);var t=this.handlers,e=this.bag,i=this.scissors;e.cursor="auto",i.cursor="auto",i.removeEventListener("pressup",t[1]),i.removeEventListener("mousedown",t[1]),t.splice(0)},onClickBag:function(){var t=this.bag,s=this.scissors,i=this.handlers;this.flags[0]||(this.flags[0]=!0,e.get(t).to({x:320,y:450,scaleY:1,skewX:0,rotation:-45},500).call(function(){s.visible=!0,s.gotoAndStop("open"),s.addEventListener("mousedown",i[1]),s.addEventListener("pressup",i[1])}))},onMouseScissors:function(t){var e=this.bag,s=this.scissors;switch(t.type){case"mousedown":this.flags[1]=!0,s.gotoAndStop("close");break;case"pressup":s.gotoAndStop("open"),this.flags[1]&&s.x>e.x+20&&s.x<e.x+80&&s.y>e.y-50&&s.y<e.y&&(s.visible=!1,e.gotoAndStop("open"),this.stop()),this.flags[1]=!1}},update:function(){this.scissors.set(this.scene.getLocalMouse())}})}(),ENJ.Step_WashBag=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t,i=this.store,o=this.scene,n=this.handlers=[];this.time=0,this.flags=[],this.bag=o.bags[i.bag],this.beaker=o.beakers[i.beaker],this.powder=o.powder,t=this.bottle=o.waterBottle,t.cursor="pointer",t.active||(t.start(),e.get(t).to({x:400,y:400},250)),n[0]=this.onClickBottle.bind(this),t.addEventListener("click",n[0])},stop:function(){var t=this.handlers;this.store.remain?e.get(this.bag).to({rotation:30},250):e.get(this.bag).to({alpha:0},250),this.bottle.cursor="auto",this.bottle.removeEventListener("click",t[0]),s.stop.call(this)},onClickBottle:function(){var t=this,s=this.bag,i=(this.beaker,this.bottle);this.flags[0]||(this.flags[0]=!0,e.get(i).to({rotation:-30,x:320,y:430},250).call(function(){t.flags[1]=!0,e.get(i).wait(1e3).to({rotation:0,x:400,y:400},250),e.get(s).wait(1e3).to({rotation:120},1e3)}))},update:function(t){var e,s,i=this.powder,o=this.beaker;this.flags[1]&&(e=this.time+=t.delta,s=o.store("volume"),s>=this.store.volume&&(o.store("volume",this.store.volume),this.stop()),e>1e3&&(o.store("volume",s+t.delta/200),i.alpha>0?i.alpha-=t.delta/2e3:i.visible=!1))}})}(),ENJ.Step_DumpPowder=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t,i,o=this.store,n=this.scene,r=this.handlers=[],a=this.flags=[];t=this.bag=n.bags[o.bag],i=this.beaker=n.beakers[o.beaker],this.powder=n.powder,t.cursor="pointer";var l=new CRE.Graphics;l.beginFill("#0f0").drawEllipse(0,0,80,40),this.rect=new CRE.Shape(l),e.get(i).to({x:300,y:500},500),e.get(t).to({rotation:30},500).call(function(){a[0]=!0}),r[0]=this.onClickBag.bind(this),t.addEventListener("click",r[0]),t.cursor="pointer"},stop:function(){var t=this.handlers;this.bag.removeEventListener("click",t[0]),this.bag.cursor="auto",s.stop.call(this)},onClickBag:function(){if(this.flags[0]&&!this.flags[1]){this.flags[1]=!0;var t=this.powder,s=this.beaker,i=this.bag,o=this.rect,n=this;t.set({alpha:1,visible:!0,x:s.x+15,y:s.y+75}),o.x=t.x-10,o.y=t.y-12,t.mask=o,t.y+=20,e.get(i).to({rotation:120},250).wait(1500).to({rotation:30},250).call(function(){n.stop()}),e.get(t).to({y:s.y+75},2e3)}}})}(),ENJ.Step_DumpWater=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t,i=this.scene,o=this.handlers=[];t=this.bottle=i.waterBottle,this.beaker=i.beakers[this.store.beaker],this.flags=[],t.active||(t.start(),e.get(t).to({x:400,y:400},250)),o[0]=this.onClickBottle.bind(this),t.addEventListener("click",o[0]),t.cursor="pointer"},stop:function(){this.bottle.removeEventListener("click",this.handlers[0]),this.bottle.cursor="auto",this.bottle.stop(),s.stop.call(this)},update:function(t){var e,s=this.beaker;this.flags[1]&&(e=s.store("volume"),e>this.store.volume&&this.stop(),s.store("volume",e+t.delta/100))},onClickBottle:function(){var t=this.bottle,s=this;this.flags[0]||(this.flags[0]=!0,this.store.washing?e.get(t).to({rotation:-30,x:360,y:450},250).call(function(){s.flags[1]=!0,t.dump(!0,0)}).to({x:370,y:400},500).to({x:360,y:450},500).to({x:370,y:400},500).to({x:360,y:450},500).call(function(){t.dump(!1,0)}).to({rotation:0,x:t.location.x,y:t.location.y},250):e.get(t).to({rotation:-30,x:340,y:430},250).call(function(){s.flags[1]=!0,t.dump(!0,0)}).wait(1e3).call(function(){t.dump(!1,0)}).to({rotation:0,x:t.location.x,y:t.location.y},250))}})}(),ENJ.Step_BlowLiquid=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t,i,o,n,r=this.scene,a=this.store,l=this.handlers=[];this.scale=a.scale||1,this.flags=[],i=this.hand=r.hand,o=this.pipet=a.pipet?r[a.pipet]:r.pipet,"bottle"in a?n=this.bottle=r[a.bottle]:"beaker"in a&&(n=this.bottle=r.beakers[a.beaker],n.fix()),n.start(),r.setChildIndex(n,r.getChildIndex(o)+1),l[0]=this.onClick.bind(this),i.addEventListener("click",l[0]),this.flags[0]=a.rightNow,n.visible=!0,i.set({visible:!0,y:o.y-20,x:o.x-10});var c=this,h=function(){c.flags[2]=!0,a.rightNow&&i.gotoAndStop("up")};if(a.rotation){t=a.point?a.point:{x:305,y:400};var u=a.offsetX||0,p=a.offsetY||0;e.get(n).to({x:t.x+u,y:t.y+p,rotation:a.rotation},500).call(h),e.get(i).to({y:t.y-210},500),e.get(o).to({y:t.y-190},500)}else t={x:300,y:o.y+(o.getBounds().height-50)},e.get(n).to({x:t.x,y:t.y},500).call(h)},stop:function(){var t=this.bottle,e=this.hand;t.stop(),e.visible=!1,e.gotoAndStop("down"),this.scene.setChildIndex(t,t.index),e.removeEventListener("click",this.handlers[0]),s.stop.call(this)},update:function(t){var s,i,o=this,n=this.hand,r=this.bottle,a=this.pipet,l=this.store.volume,c=this.store.remain,h=this.store.showLabel;r.refresh(),this.flags[0]&&!this.flags[1]&&this.flags[2]&&(s=a.store("volume"),i=t.delta/1e3,l>=s?(s=l,this.flags[1]=!0,n.gotoAndStop("down"),c>1?this.stop():e.get(r).wait(1e3).to({x:r.location.x,y:r.location.y,rotation:0},500).call(function(){"beaker"in o.store&&r.unfix(),o.scene.setChildIndex(r,r.index),o.stop()}),h&&a.hideLabel(),0>=s&&e.get(a).to({x:a.location.x,y:a.location.y,rotation:-90},500)):s-=i,h&&a.showLabel(),a.store("volume",s),r.store("volume",r.store("volume")+i*this.scale))},onClick:function(){this.flags[2]&&!this.flags[0]&&(this.flags[0]=!0,this.hand.gotoAndStop("up"))}})}(),ENJ.Step_SuckLiquid=function(){var t=ENJ.Step,e=CRE.Ease,s=CRE.Tween,i=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){i.start.call(this);var t,o,n,r,a=this.store,l=this.scene,c=this.handlers=[],h=this;t=this.hand=l.hand,o=this.pipet=a.pipet?l[a.pipet]:l.pipet,n=this.bottle=l[a.bottle],r=this.suckBall=l.suckBall,o.cursor="pointer",r.cursor="pointer",c[0]=this.onClickPipet.bind(this),c[1]=this.onClickHand.bind(this),c[2]=this.onClickSuckBall.bind(this),this.flags=[],[o,n].forEach(function(t){t.cursor="pointer"}),n.start(),s.get(n).to({x:300,y:400},500,e.sineInOut).call(function(){o.active&&h.insertPipet()}),t.visible=!1,o.addEventListener("click",c[0]),t.addEventListener("mousedown",c[1]),t.addEventListener("pressup",c[1]),r.addEventListener("mousedown",c[2]),r.addEventListener("pressup",c[2]),l.setChildIndex(n,l.getChildIndex(o)+1)},stop:function(){var t=[],e=this.handlers,s=this.scene,o=this.hand,n=this.pipet,r=this.bottle,a=this.suckBall;n.cursor="auto",a.cursor="auto",this.store.remain||(t.push(n),t.push(r),r.stop()),s.setChildIndex(r,r.index),t.forEach(function(t){t.cursor="auto"}),n.removeEventListener("click",e[0]),o.removeEventListener("click",e[1]),a.removeEventListener("mousedown",e[2]),a.removeEventListener("pressup",e[2]),i.stop.call(this)},update:function(t){var e,s,i=this.store,o=this.scene.getLocalMouse(),n=this.hand,r=this.pipet,a=this.bottle;a.refresh(),this.flags[2]||n.set({x:o.x-50,y:o.y-50}),this.flags[0]&&!this.flags[1]&&(e=r.store("volume"),s=t.delta/200,e>=i.volume?(e=i.volume,this.flags[1]=!0,n.visible=!0,n.gotoAndPlay("up")):e+=s,r.store("volume",e),a.store("volume",a.store("volume")-s))},onClickPipet:function(){var t=this.pipet;this.bottle;t.active?(t.stop(),s.get(t).to({x:t.location.x,y:t.location.y,rotation:-90},500,e.sineInOut)):this.insertPipet()},insertPipet:function(){var t=this,i=this.pipet,o=this.bottle,n=o.getBounds(),r=i.getBounds().height;s.get(i).to({x:o.x+n.width*o.scaleX*.5-5,y:o.y-r,rotation:0},500,e.sineInOut).to({y:o.y-(r-150)},500,e.sineInOut).call(function(){t.flags[3]=!0,i.start()})},onClickHand:function(t){var i=this.hand,o=this.suckBall,n=this.bottle,r=this.pipet;if(i.visible&&!this.flags[2])switch(t.type){case"mousedown":if(i.gotoAndStop("down"),i.x>r.x-40&&i.x<r.x+20&&i.y>r.y-40&&i.y<r.y+20){this.flags[2]=!0,i.set({x:r.x-10,y:r.y-20}),this.store.remain||s.get(n).wait(500).to({x:n.location.x,y:n.location.y},500,e.sineInOut).call(function(){n.stop()}),o.stop(),s.get(o).to({x:o.location.x,y:o.location.y,rotation:0},500,e.sineInOut).wait(500).call(this.stop.bind(this));var a=r.getBounds().height;s.get(i).to({y:n.y-(a+20)},500),s.get(r).to({y:n.y-a},500)}break;case"pressup":i.gotoAndStop("up")}},onClickSuckBall:function(t){var i=this.suckBall,o=this.pipet;if(this.flags[3])switch(t.type){case"mousedown":i.active&&i.scale();break;case"pressup":if(i.active)i.suck(),this.bottle.active&&o.active&&(this.flags[0]=!0);else if(o.active){i.start();this.scene;s.get(i).to({x:o.x+.5*o.getBounds().width,y:o.y,rotation:180},500,e.sineInOut)}}}})}(),ENJ.Step_StirLiquid=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t,i=this.store,o=this.scene,n=this.handlers=[];this.flags=[],this.time=0,this.beaker=o.beakers[i.beaker],t=this.bar=o.drainageBar,t.cursor="pointer",this.store.remain&&e.get(t).to({x:410,y:300,rotation:10},500),n[0]=this.onClickDrainageBar.bind(this),t.addEventListener("click",n[0])},stop:function(){this.bar.cursor="auto",this.bar.removeEventListener("click",this.handlers[0]),s.stop.call(this)},update:function(t){this.flags[0]&&(this.time+=t.delta,this.time>5e3&&(this.tween.loop=!1,this.stop()))},onClickDrainageBar:function(){this.flags[0]||(this.flags[0]=!0,this.tween=e.get(this.bar,{loop:!0}).to({x:360},250).to({x:410},250))}})}(),ENJ.Step_TransferLiquid=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t,i,o,n=this.scene,r=this.store,a=this.handlers=[];this.flags=[],t=this.bar=n.drainageBar,i=this.beaker=n.beakers[r.beaker],o=this.flask=n.volumetricFlasks[r.flask],i.cursor="pointer",o.start(),e.get(o).to({x:250,y:300},250),e.get(t).to({x:350,y:100},250),i.fix(),e.get(i).to({x:330,y:250,rotation:30},250),a[0]=this.onClickBeaker.bind(this),i.addEventListener("click",a[0])},stop:function(){var t=this.beaker;t.cursor="auto",t.removeEventListener("click",this.handlers[0]),s.stop.call(this)},update:function(t){var s,i,o=this.bar,n=this.beaker,r=this.flask;n.refresh(),this.flags[0]&&(i=t.delta/5e3*20,s=n.store("volume")-i,0>=s&&(this.flags[0]=!1,s=0,n.unfix(),this.store.remain?(e.get(n).to({x:300,y:500,rotation:0},250),e.get(o).to({x:410,y:300},500).call(this.stop.bind(this))):(e.get(n).to({x:-500,y:0,rotation:0},250).call(function(){n.visible=!1}),e.get(o).to({x:o.location.x,y:o.location.y,rotation:-90},500).call(this.stop.bind(this)))),n.store("volume",s),r.store("volume",r.store("volume")+i))},onClickBeaker:function(){this.flags[0]||(this.flags[0]=!0,e.get(this.beaker).to({rotation:75},1e3).to({rotation:85},4e3))}})}(),ENJ.Step_ConstantVolume=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments);
},extend:t,start:function(){s.start.call(this);var t,i,o=this.scene,n=this.store,r=this.handlers=[];i=this.flask=o.volumetricFlasks[n.flask],t=this.bottle=o.waterBottle,this.flags=[],i.active||i.start(),t.active||(t.start(),e.get(t).to({x:i.x+100,y:i.y-100},250)),r[0]=this.onClickBottle.bind(this),t.addEventListener("click",r[0]),t.cursor="pointer"},stop:function(){var t=this.bottle;this.flask;t.cursor="auto",t.removeEventListener("click",this.handlers[0]),s.stop.call(this)},update:function(t){var s,i=this.flask,o=this.bottle;this.flags[0]&&!this.flags[1]&&(s=i.store("volume")+t.delta/100,s>=this.store.volume&&(s=this.store.volume,this.flags[1]=!0,i.stop(),o.stop(),e.get(o).to({x:o.location.x,y:o.location.y,rotation:0},250).call(this.stop.bind(this))),i.store("volume",s))},onClickBottle:function(){this.flags[0]||(this.flags[0]=!0,e.get(this.bottle).to({x:this.flask.x+50,y:this.flask.y-20,rotation:-30},250))}})}(),ENJ.Step_ShakeUp=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t,i=this.flags=[],o=this.handlers=[];t=this.flask=this.scene.volumetricFlasks[this.store.flask],t.cursor="pointer",o[0]=this.onClickFlask.bind(this),e.get(t).to({regX:62,regY:120,x:300,y:400,rotation:30},250).call(function(){i[0]=!0}),t.addEventListener("click",o[0])},stop:function(){var t=this.flask;t.cursor="auto",e.get(t).to({x:t.location.x,y:t.location.y,regX:0,regY:0},250).call(function(){t.rotation=0,t.refresh()}),t.removeEventListener("click",this.handlers[0]),s.stop.call(this)},update:function(){this.flask.refresh()},onClickFlask:function(){if(this.flags[0]){var t=this.flask,s=this.stop.bind(this);e.get(t).to({rotation:180},500).to({rotation:0},500).to({rotation:180},500).to({rotation:0},500).call(function(){s()})}}})}(),ENJ.Step_WashElectrode=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t,i,o,n=this.scene;this.flags=[],this.curve=n.curve,o=this.bottle=n.waterBottle,i=this.beaker=n.bigBeaker,t=this.electrode=n.phElectrode,o.cursor="pointer",t.cursor="pointer",e.get(i).to({x:420,y:500},250),e.get(t).to({x:520,y:300,rotation:30},250);var r=this.handlers=[];r[0]=this.onClickElectrode.bind(this),r[1]=this.onClickBottle.bind(this),t.addEventListener("click",r[0]),o.addEventListener("click",r[1])},stop:function(){var t=this.electrode,e=(this.beaker,this.bottle);e.cursor="auto",t.cursor="auto",this.curve.update(t,new CRE.Point(800,480)),t.removeEventListener("click",this.handlers[0]),e.removeEventListener("click",this.handlers[1]),s.stop.call(this)},onClickElectrode:function(){var t=this.electrode;this.flags[0]||(this.flags[0]=!0,t.start(),e.get(t).to({y:350,rotation:15},250))},onClickBottle:function(){var t=(this.electrode,this.beaker),s=this.bottle;if(this.flags[0]&&!this.flags[1]){this.flags[1]=!0;var i=this.stop.bind(this);s.scaleX=-1,e.get(s).to({x:500,y:450,rotation:30},250).call(function(){s.dump(!0,0)}).to({x:480,y:500},800).to({x:500,y:450},800).to({x:480,y:500},800).call(function(){e.get(t).to({x:t.location.x,y:t.location.y},300),s.scaleX=1,s.dump(!1,0),e.get(s).to({x:s.location.x,y:s.location.y,rotation:0},500).call(i)})}},update:function(t){this.curve.update(this.electrode,new CRE.Point(800,480))}})}(),ENJ.Step_WipeUpElectrode=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t,i,o=this.scene;t=this.paper=o.paper,i=this.electrode=o.phElectrode,this.curve=o.curve,e.get(i).to({rotation:0},500),this.flags=[];var n=this.handlers=[];n[0]=this.onClick.bind(this),t.visible=!0,t.cursor="pointer",t.addEventListener("click",n[0])},stop:function(){var t=this.electrode,e=this.paper;this.curve.update(t,new CRE.Point(800,480)),e.visible=!1,e.cursor="auto",e.removeEventListener("click",this.handlers[0]),s.stop.call(this)},update:function(){var t=this.scene.getLocalMouse();this.flags[0]||this.paper.set({x:t.x-60,y:t.y-28}),this.curve.update(this.electrode,new CRE.Point(800,480))},onClick:function(){if(!this.flags[0]){var t=this.paper,s=this.electrode,i=this;t.x>s.x-50&&t.x<s.x+50&&t.y>s.y+60&&t.y<s.y+200&&(this.flags[0]=!0,t.set({x:s.x-60,y:s.y+100}),e.get(t).to({y:s.y+200},500).to({y:s.y+100},500).to({y:s.y+200},500).to({y:s.y+100},500).call(function(){e.get(s).to({x:s.location.x,y:s.location.y},500).call(i.stop.bind(i))}))}}})}(),ENJ.Step_DumpFromFlask=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t,i,o=this.scene,n=this.store,r=this.handlers=[];t=this.flask=o.volumetricFlasks[n.flask],i=this.beaker=o.beakers[n.beaker],this.flags=[],r[0]=this.onClickFlask.bind(this),t.addEventListener("click",r[0]),t.cursor="pointer",t.start(),e.get(t).to({x:350,y:530,rotation:-60},250),i.start(),e.get(i).to({x:300,y:500},250)},stop:function(){var t=this.flask;t.cursor="auto",t.refresh(),t.stop(),t.y-=20,this.scene.setChildIndex(t,1),t.removeEventListener("click",this.handlers[0]),s.stop.call(this)},update:function(t){var e,s,i=this.beaker,o=this.flask;o.refresh(),this.flags[0]&&!this.flags[1]&&(s=t.delta/100,e=i.store("volume"),e>=this.store.volume?(this.flags[1]=!0,e=this.store.volume):e+=s,o.store("volume",o.store("volume")-s),i.store("volume",e))},onClickFlask:function(){if(!this.flags[0]){var t=this.flask;this.flags[0]=!0,t.rotation=-75,e.get(t).to({rotation:-85},3e3).to({x:t.location.x,y:t.location.y,rotation:0},250).call(this.stop.bind(this))}}})}(),ENJ.Step_AddRotor=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t,i=this.scene,o=this.store,n=this.handlers=[];t=this.rotor=i.rotors[o.rotor],this.beaker=i.beakers[o.beaker],e.get(t).to({x:450,y:550},250),n[0]=this.onClickRotor.bind(this),t.addEventListener("click",n[0]),t.cursor="pointer"},stop:function(){this.rotor.removeEventListener("click",this.handlers[0]),s.stop.call(this)},onClickRotor:function(){var t=this.rotor,s=this.beaker,i=this.stop.bind(this);t.cursor="auto",e.get(t).to({x:s.x+10,y:s.y-50},250).call(function(){t.set({x:10,y:-50}),s.addChild(t),s.setChildIndex(t,0),e.get(t).to({y:80},500).call(i)})}})}(),ENJ.Step_StartStirrer=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t,i,o,n=this,r=n.scene,a=n.store,l=n.handlers=[];t=this.stirrer=r.stirrer,o=this.electrode=r.phElectrode,i=this.beaker=r.beakers[a.beaker],this.rotor=r.rotors[a.rotor],this.curve=r.curve,this.flag=!1,l[0]=this.onClickStirrer.bind(this),t.addEventListener("click",l[0]),t.cursor="pointer",e.get(i).to({x:630,y:450},500).call(function(){n.flag=!0}),e.get(o).to({y:o.location.y-150},500).to({y:o.location.y},500)},stop:function(){this.curve.update(this.electrode,new CRE.Point(800,480)),this.stirrer.cursor="auto",this.stirrer.removeEventListener("click",this.handlers[0]),s.stop.call(this)},update:function(){this.curve.update(this.electrode,new CRE.Point(800,480))},onClickStirrer:function(){this.flag&&(this.stirrer.start(),this.rotor.gotoAndPlay(0),this.stop())}})}(),ENJ.Step_StopStirrer=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t=this.scene,e=this.store,i=this.handlers=[];this.stirrer=t.stirrer,this.phElectrode=t.phElectrode,this.beaker=t.beakers[e.beaker],this.rotor=t.rotors[e.rotor],this.curve=t.curve,this.stirrer.cursor="pointer",this.flag=!1,i[0]=this.onClickStirrer.bind(this),this.stirrer.addEventListener("click",i[0])},stop:function(){this.curve.update(this.phElectrode,new CRE.Point(800,480)),this.stirrer.cursor="auto",this.stirrer.removeEventListener("click",this.handlers[0]),s.stop.call(this)},update:function(){this.curve.update(this.phElectrode,new CRE.Point(800,480))},onClickStirrer:function(){if(!this.flag){this.flag=!0,this.stirrer.stop(),this.rotor.gotoAndStop(0);var t=this.beaker;e.get(this.phElectrode).to({y:this.phElectrode.location.y-150},500).call(function(){e.get(t).to({x:400,y:1e3},500).call(function(){t.visible=!1})}).wait(500).to({y:this.phElectrode.location.y},500).call(this.stop.bind(this))}}})}(),ENJ.Step_CorrectPHInstrument=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t=this.scene,e=(this.store,this.handlers=[]),i=this.phInstrument=t.phInstrument;e[0]=this.onCorrect.bind(this),i.addEventListener("correct",e[0]),i.start(),i.willCorrect()},stop:function(){var t=this.phInstrument;t.removeEventListener("correct",this.handlers[0]),t.stop(),s.stop.call(this)},onCorrect:function(){var t=this.phInstrument;t.store("number",this.store.number),e.get(t).wait(2e3).call(this.stop.bind(this))}})}(),ENJ.Step_WashPipe=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t,i,o=this.scene,n=this.store;t=this.pipe=o[n.pipe],i=this.hand=o.hand,this.flags=[],i.visible=!1,e.get(t).to({x:400,y:500,regX:7,regY:100,rotation:90},500).to({rotation:95},300).to({rotation:85},300).to({rotation:95},300).to({rotation:85},300).to({x:335,y:200,regX:0,regY:0,rotation:0},500).call(this.stop.bind(this))},stop:function(){s.stop.call(this)},update:function(t){this.pipe.refresh()}})}(),ENJ.Step_EmptyPipet=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t,i,o,n=this.scene,r=this.store,a=this.handlers=[];t=this.pipet=r.pipet?n[r.pipet]:n.pipet,i=this.ball=n.suckBall,o=this.beaker=n.bigBeaker,this.flags=[],a[0]=this.onClickBall.bind(this),i.addEventListener("mousedown",a[0]),i.addEventListener("pressup",a[0]),i.cursor="pointer";var l=t.getBounds(),c={x:t.x,y:t.y};e.get(o).to({x:300,y:c.y+(l.height-50)},500),e.get(i).to({x:c.x+.5*l.width,y:c.y,rotation:180},500).call(function(){i.start()})},stop:function(){var t=this.ball,e=this.handlers;t.removeEventListener("mousedown",e[0]),t.removeEventListener("pressup",e[0]),t.cursor="auto",s.stop.call(this)},update:function(t){var s,i=this.pipet,o=this.beaker;i.refresh(),this.flags[0]&&!this.flags[1]&&(s=i.store("volume"),0>=s?(s=0,this.flags[1]=!0,this.store.remain?e.get(i).wait(500).to({y:o.y-400},500):e.get(i).to({x:i.location.x,y:i.location.y,rotation:-90},500),e.get(o).wait(500).to({x:o.location.x,y:o.location.y},500).call(this.stop.bind(this))):s-=t.delta/200,i.store("volume",s))},onClickBall:function(t){var s=this.ball;if(s.active)switch(t.type){case"mousedown":s.scale(),this.flags[0]=!0;break;case"pressup":s.stop(),s.suck(),e.get(s).to({x:s.location.x,y:s.location.y,rotation:0},500)}}})}(),ENJ.Step_DumpToCylinder=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t=this,i=t.scene,o=t.handlers=[];t.cylinder=i.cylinder,t.bottle=i.waterBottle,t.flags=[],o[0]=t.onClick.bind(t),t.bottle.addEventListener("click",o[0]),t.bottle.cursor="pointer",e.get(t.bottle).to({x:400,y:360},500),e.get(t.cylinder).to({x:300,y:300},500).call(function(){t.cylinder.start()})},stop:function(){var t=this;t.bottle.stop(),t.bottle.cursor="auto",t.bottle.removeEventListener("click",t.handlers[0]),s.stop.call(this)},update:function(t){var s,i=this,o=i.cylinder,n=i.bottle,r=i.store.volume;i.flags[0]&&!i.flags[1]&&(s=o.store("volume"),s>=r?(i.flags[1]=!0,s=r,e.get(n).to({x:n.location.x,y:n.location.y,rotation:0},500).call(function(){i.stop()})):s+=t.delta/100,o.store("volume",s))},onClick:function(){var t=this;t.cylinder.active&&!t.bottle.active&&(t.bottle.start(),e.get(t.bottle).to({x:340,y:270,rotation:-30},500).call(function(){t.flags[0]=!0}).wait(2e3))}})}(),ENJ.Step_DumpFromCylinder=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t=this,i=t.scene,o=t.store,n=this.handlers=[],r=t.cylinder=i.cylinder,a=t.beaker=i.beakers[o.beaker];e.get(a).to({x:200,y:500},500).call(function(){a.start()}),this.flags=[],n[0]=t.onClick.bind(t),r.addEventListener("click",n[0]),r.cursor="pointer"},stop:function(){var t=this,e=t.cylinder;e.stop(),e.removeEventListener("click",t.handlers[0]),e.cursor="auto",s.stop.call(this)},update:function(t){var s,i,o=this,n=o.cylinder,r=o.beaker;n.refresh(),o.flags[0]&&!o.flags[1]&&(i=t.delta/50,s=n.store("volume"),0>=s?(s=0,o.flags[1]=!0,e.get(n).to({x:n.location.x,y:n.location.y,rotation:0},500).call(function(){o.stop()})):s-=i,n.store("volume",s),r.store("volume",r.store("volume")+i))},onClick:function(){var t=this;t.beaker.active&&e.get(t.cylinder).to({x:240,y:500,rotation:-85},500).call(function(){t.flags[0]=!0}).to({rotation:-90},1e3)}})}(),ENJ.Step_DumpToBuret=function(){var t=ENJ.Step,e=CRE.Tween;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){t.prototype.start.call(this);var s=this,i=s.scene;s.buret=i.buret,s.bottle=i.reagenBottle,i.setChildIndex(s.bottle,i.getChildIndex(s.buret)-1),s.flags=[],s.handlers=[],s.handlers[0]=s.onClick.bind(s),s.bottle.addEventListener("click",s.handlers[0]),s.bottle.cursor="pointer",e.get(s.buret).to({x:400,y:400,rotation:30},500),s.bottle.start(),e.get(s.bottle).to({x:400,y:415,rotation:-30},500)},stop:function(){var e=this,s=e.scene,i=e.bottle;s.setChildIndex(i,i.index),i.removeEventListener("click",e.handlers[0]),i.cursor="auto",i.refresh(),i.stop(),t.prototype.stop.call(this)},update:function(t){var s,i,o=this,n=o.buret,r=o.bottle,a=o.store.volume;n.refresh(),r.refresh(),o.flags[0]&&!o.flags[1]&&(i=t.delta/100,s=n.store("volume"),s>=a?(s=a,o.flags[1]=!0,e.get(r,{override:!0}).to({x:r.location.x,y:r.location.y,rotation:0},500).call(function(){o.stop()})):s+=i,r.store("volume",r.store("volume")-i),n.store("volume",s))},onClick:function(){var t=this;t.flags[0]||(t.flags[0]=!0,e.get(t.bottle).to({rotation:-45},250).to({rotation:-56},600))}})}(),ENJ.Step_BlowBuret=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t,i,o,n=this,r=n.scene,a=n.store,l=n.handlers=[];n.flags=[],t=n.hand=r.hand,i=n.buret=r.buret,o=n.bottle=r[a.bottle],l[0]=n.onClick.bind(n),t.addEventListener("mousedown",l[0]),t.addEventListener("pressup",l[0]),e.get(i).to({x:335,y:10,rotation:0},500),a.remain||e.get(o).to({x:335,y:510},500),t.set({visible:!0,scaleX:-1,x:365,y:410}),t.gotoAndStop("up")},stop:function(){var t=this,e=t.bottle,i=t.hand;e.stop(),i.set({visible:!1,scaleX:1}),i.removeEventListener("mousedown",t.handlers[0]),i.removeEventListener("pressup",t.handlers[0]),s.stop.call(this)},update:function(t){var s,i,o=this,n=o.bottle,r=o.buret,a=o.store.volume;r.refresh(),this.flags[0]&&!this.flags[1]&&(s=r.store("volume"),i=t.delta/100,a>=s?(s=a,this.flags[1]=!0,o.store.remain?o.stop():e.get(n).to({x:n.location.x,y:n.location.y},500).call(function(){o.stop()}),80===a&&(r.showLabel(),r.hideLabel())):s-=i,r.store("volume",s),o.store.remain||n.store("volume",n.store("volume")+.1*i))},onClick:function(t){var e=this,s=e.hand;switch(t.type){case"mousedown":e.flags[0]=!0,s.gotoAndStop("down");break;case"pressup":e.flags[0]=!1,s.gotoAndStop("up")}}})}(),ENJ.Step_InstallBuret=function(){var t=ENJ.Step,e=CRE.Tween;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){t.prototype.start.call(this);var s=this,i=s.scene,o=(s.store,i.titrationStand),n=i.buret;e.get(o).to({x:518,y:50},500),e.get(n).wait(500).to({x:600,y:-50},500).call(function(){o.start(),s.stop()})}})}(),ENJ.Step_DropFromBuret=function(){function t(){e.apply(this,arguments)}var e=ENJ.Step,s=CRE.Tween,i=e.prototype,o=t.prototype=Object.create(i);return o.constructor=t,o.start=function(){i.start.call(this);var t=this,e=t.scene;t.stand=e.titrationStand;var o=t.buret=e.buret,n=t.hand=e.hand,r=t.drop=e.drop,a=t.phInstrument=e.phInstrument;r.set({x:o.x+40,y:o.y+500}),e.setChildIndex(r,e.getChildIndex(e.beaker)-1),t.tween=s.get(r,{loop:!0,paused:!0}).to({y:r.y+80},500),t.flags=[];var l=t.handlers=[];l[0]=t.onClick.bind(t),n.addEventListener("mousedown",l[0]),n.addEventListener("pressup",l[0]),n.set({visible:!0,scaleX:-1,x:o.x+30,y:o.y+400}),a.start(),this.originVolume=o.store("volume")},o.stop=function(){var t=this.hand,e=this.handlers;t.removeEventListener("mousedown",e[0]),t.removeEventListener("pressup",e[0]),this.drop.visible=!1,this.tween.setPaused(!0),i.stop.call(this)},o.update=function(t){var e,i,o=this,n=o.buret,r=o.stand,a=o.store.speed||1,l=o.store.volume,c=o.store.pHs;if(n.showLabel(),n.refresh(),o.drop.visible&&!o.flags[1]){i=t.delta/1e3*a,e=n.store("volume");var h=(this.originVolume-e)/(this.originVolume-l);o.phInstrument.store("number",(c[0]+h*(c[1]-c[0])).toFixed(1)),l>=e?(e=l,o.flags[1]=!0,o.drop.visible=!1,o.hand.set({visible:!1,scaleX:1}),o.store.remain?(o.phInstrument.store("number",c[1].toFixed(1)),o.stop()):(s.get(n).wait(500).to({x:n.location.x,y:n.location.y,rotation:0},500).call(function(){n.hideLabel(),o.phInstrument.stop(),o.stop()}),s.get(r).wait(500).to({x:r.location.x,y:r.location.y},500))):e-=i,n.store("volume",e)}},o.onClick=function(t){var e=this,s=e.hand;switch(t.type){case"mousedown":s.gotoAndStop("down"),e.drop.visible=!0,e.tween.setPaused(!1);break;case"pressup":s.gotoAndStop("up"),e.drop.visible=!1,e.tween.setPaused(!0)}},t}(),ENJ.Step_Interlude_1=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t=this,i=this.scene,o=this.store,n=i.board;n.store("title",o.title),n.visible=!0,e.get(n).to({alpha:1},500).wait(1e3).to({alpha:0},500).call(function(){n.visible=!1,t.stop()})},stop:function(){s.stop.call(this)}})}(),ENJ.Step_Interlude_2=function(){var t=ENJ.Step,e=CRE.Tween,s=t.prototype;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){s.start.call(this);var t=this,i=this.scene,o=i.rotors,n=i.beakers,r=this.store,a=i.board;a.store("title",r.title),a.visible=!0,e.get(a).to({alpha:1},500).call(function(){i.addChild(o[0]),i.addChild(o[1]),i.setChildIndex(o[0],o[0].index),i.setChildIndex(o[1],o[1].index),o[0].set(o[0].location),o[1].set(o[1].location);var t,e;for(t=0;t<n.length;t+=2)e=n[t],e.visible=!0,e.set(e.location),e.store("color",587202559),e.store("volume",0)}).wait(1e3).to({alpha:0},500).call(function(){a.visible=!1,t.stop()})},stop:function(){s.stop.call(this)}})}(),ENJ.Step_Record_2=function(){var t=ENJ.Step,e=(CRE.Tween,t.prototype);return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,start:function(){e.start.call(this);var t=this,s=this.scene,i=this.store,o=s.table;"canClose"in i&&!i.canClose||o.addEventListener("close",function(){o.removeAllEventListeners("close"),o.visible=!1,t.stop()}),delete i.canClose,o.store(i),o.visible=!0},stop:function(){e.stop.call(this)}})}(),ENJ.Script=function(){var t=CRE.EventDispatcher;return ENJ.defineClass({constructor:function(){t.apply(this,arguments),this.register(),this.ready()},extend:t,get numSteps(){return this.currentIndex+1},register:function(){this.scene=null,this.steps=null,this.stores=null,this.currentStep=null,this.currentIndex=0,this.listener=null},ready:function(){},update:function(t){this.currentStep&&this.currentStep.active&&this.currentStep.update(t)},start:function(){this.listener=this.update.bind(this),this.step(0),this.scene.addEventListener("tick",this.listener)},stop:function(){this.scene.removeEventListener("tick",this.listener),this.steps.splice(0)},step:function(t){var e=this.currentIndex,s=this.currentStep;if(!(0>e+t||e+t>this.steps.length-1)){s&&(s.removeAllEventListeners(),s.active&&s.stop()),e+=t;var i=this.steps[e];s=new i({scene:this.scene,store:this.stores[e]});var o=this.tips[e];o?this.scene.tip.text="提示："+o:this.scene.tip.text="",s.addEventListener("complete",this.onStepComplete.bind(this)),s.start(),this.currentIndex=e,this.currentStep=s}},next:function(){this.currentIndex<this.steps.length-1&&this.step(1)},prev:function(){this.currentIndex>0&&this.step(-1)},restart:function(){this.skip(0)},skip:function(t){this.step(t-this.currentIndex)},onStepComplete:function(){this.next(),this.dispatchEvent("stepComplete")}})}(),ENJ.Script_2=function(){var t=ENJ.Script;return ENJ.defineClass({constructor:function(){t.apply(this,arguments)},extend:t,ready:function(){var t,e,s,i,o=[],n=[],r=[];for(i=[[ENJ.Step_Interlude_1,{title:"校准PH计"},""],[ENJ.Step_CutBag,{bag:1},"剪开一袋PH标准缓冲液（6.86）粉末"],[ENJ.Step_DumpPowder,{bag:1,beaker:3},"将粉末倒入干净的烧杯中"],[ENJ.Step_WashBag,{bag:1,beaker:3,remain:!0,volume:5},"用蒸馏水清洗粉末袋子"],[ENJ.Step_WashBag,{bag:1,beaker:3,remain:!1,volume:10},"用蒸馏水清洗粉末袋子"],[ENJ.Step_DumpWater,{beaker:3,volume:20},"加水稀释"],[ENJ.Step_StirLiquid,{beaker:3,remain:!0},"用玻璃杯搅拌一下"],[ENJ.Step_TransferLiquid,{beaker:3,flask:1,remain:!0},"将稀释液移入容量瓶中"],[ENJ.Step_DumpWater,{beaker:3,volume:20,washing:!0},"加水清洗烧杯和玻璃杯"],[ENJ.Step_TransferLiquid,{beaker:3,flask:1,remain:!0},"将清洗液移入容量瓶中"],[ENJ.Step_DumpWater,{beaker:3,volume:20,washing:!0},"加水清洗烧杯和玻璃杯"],[ENJ.Step_TransferLiquid,{beaker:3,flask:1},"将清洗液移入容量瓶中"],[ENJ.Step_ConstantVolume,{flask:1,volume:100},"补加蒸馏水，定容至100ml"],[ENJ.Step_ShakeUp,{flask:1},"摇匀"],[ENJ.Step_WashElectrode,{},"清洗PH电极"],[ENJ.Step_WipeUpElectrode,{},"擦干PH电极"],[ENJ.Step_DumpFromFlask,{beaker:2,flask:1,volume:30},"倒一些PH标准缓冲液（6.86）至干净的烧杯中"],[ENJ.Step_AddRotor,{beaker:2,rotor:1},"加入一颗转子"],[ENJ.Step_StartStirrer,{beaker:2,rotor:1},"打开电子搅拌器，开始自动搅拌"],[ENJ.Step_CorrectPHInstrument,{number:6.86},"校准PH计"],[ENJ.Step_StopStirrer,{beaker:2,rotor:1},"关闭电子搅拌器"],[ENJ.Step_CutBag,{bag:0},"剪开一袋PH标准缓冲液（9.18）粉末"],[ENJ.Step_DumpPowder,{bag:0,beaker:1},"将粉末倒入干净的烧杯中"],[ENJ.Step_WashBag,{bag:0,beaker:1,remain:!0,volume:5},"用蒸馏水清洗粉末袋子"],[ENJ.Step_WashBag,{bag:0,beaker:1,remain:!1,volume:10},"用蒸馏水清洗粉末袋子"],[ENJ.Step_DumpWater,{beaker:1,volume:20},"加水稀释"],[ENJ.Step_StirLiquid,{beaker:1,remain:!0},"用玻璃杯搅拌一下"],[ENJ.Step_TransferLiquid,{beaker:1,flask:0,remain:!0},"将稀释液移入容量瓶中"],[ENJ.Step_DumpWater,{beaker:1,volume:20,washing:!0},"加水清洗烧杯和玻璃杯"],[ENJ.Step_TransferLiquid,{beaker:1,flask:0,remain:!0},"将清洗液移入容量瓶中"],[ENJ.Step_DumpWater,{beaker:1,volume:20,washing:!0},"加水清洗烧杯和玻璃杯"],[ENJ.Step_TransferLiquid,{beaker:1,flask:0},"将清洗液移入容量瓶中"],[ENJ.Step_ConstantVolume,{flask:0,volume:100},"补加蒸馏水，定容至100ml"],[ENJ.Step_ShakeUp,{flask:0},"摇匀"],[ENJ.Step_WashElectrode,{},"清洗PH电极"],[ENJ.Step_WipeUpElectrode,{},"擦干PH电极"],[ENJ.Step_DumpFromFlask,{beaker:0,flask:0,volume:30},"倒一些PH标准缓冲液（9.18）至干净的烧杯中"],[ENJ.Step_AddRotor,{beaker:0,rotor:0},"加入一颗转子"],[ENJ.Step_StartStirrer,{beaker:0,rotor:0},"打开电子搅拌器，开始自动搅拌"],[ENJ.Step_CorrectPHInstrument,{number:9.18},"校准PH计"],[ENJ.Step_StopStirrer,{beaker:0,rotor:0},"关闭电子搅拌器"],[ENJ.Step_Interlude_2,{title:"第一次取样和测试"},""],[ENJ.Step_SuckLiquid,{bottle:"soySauce",volume:2,remain:!1},"用移液管吸取少量食用醋样品"],[ENJ.Step_WashPipe,{pipe:"pipet"},"润洗一下移液管"],[ENJ.Step_BlowLiquid,{bottle:"bigBeaker",volume:.8,remain:2,rightNow:!0},"排入废液缸"],[ENJ.Step_EmptyPipet,{remain:!0},"排入废液缸"],[ENJ.Step_SuckLiquid,{bottle:"soySauce",volume:2,remain:!1},"再吸取少量食用醋样品"],[ENJ.Step_WashPipe,{pipe:"pipet"},"二次润洗一下移液管"],[ENJ.Step_BlowLiquid,{bottle:"bigBeaker",volume:.8,remain:2,rightNow:!0},"排入废液缸"],[ENJ.Step_EmptyPipet,{remain:!0},"排入废液缸"],[ENJ.Step_SuckLiquid,{bottle:"soySauce",volume:6,remain:!0},"吸取足量食用醋样品"],[ENJ.Step_BlowLiquid,{bottle:"soySauce",volume:4,remain:1,rotation:20,showLabel:!0},"留下4ml的食用醋样品"],[ENJ.Step_BlowLiquid,{beaker:0,volume:2,remain:1,showLabel:!0,offsetX:80,offsetY:100,rotation:15},"向干净烧杯中加入2ml的食用醋样品"],[ENJ.Step_BlowLiquid,{bottle:"bigBeaker",volume:.8,remain:2,rightNow:!0},"多余的样品，排入废液缸"],[ENJ.Step_EmptyPipet,{},"多余的样品，排入废液缸"],[ENJ.Step_WashElectrode,{},"清洗PH电极"],[ENJ.Step_WipeUpElectrode,{},"擦干PH电极"],[ENJ.Step_DumpToCylinder,{volume:20},"量取20ml的蒸馏水"],[ENJ.Step_DumpFromCylinder,{beaker:0},"加入到的烧杯中"],[ENJ.Step_AddRotor,{beaker:0,rotor:1},"加入一颗转子"],[ENJ.Step_StartStirrer,{beaker:0,rotor:1},"打开电子搅拌器，开始自动搅拌"],[ENJ.Step_DumpToBuret,{volume:20},"向滴定管中加入少量氢氧化钠溶液"],[ENJ.Step_WashPipe,{pipe:"buret"},"润洗一下滴定管"],[ENJ.Step_BlowBuret,{bottle:"bigBeaker",volume:0},"排入废液缸"],[ENJ.Step_DumpToBuret,{volume:20},"再向滴定管中加入少量氢氧化钠溶液"],[ENJ.Step_WashPipe,{pipe:"buret"},"二次润洗一下滴定管"],[ENJ.Step_BlowBuret,{bottle:"bigBeaker",volume:0},"排入废液缸"],[ENJ.Step_DumpToBuret,{volume:82},"向滴定管中加入足量氢氧化钠溶液"],[ENJ.Step_BlowBuret,{bottle:"bigBeaker",volume:80},"滴定管中液面降至零刻度线"],[ENJ.Step_InstallBuret,{},"夹好滴定管"],[ENJ.Step_DropFromBuret,{volume:63.59,pHs:[4,8.2]},"滴定..."],[ENJ.Step_StopStirrer,{beaker:0,rotor:1},"关闭电子搅拌器"],[ENJ.Step_Record_2,{v1_1:16.41},"记录第一次滴定体积"],[ENJ.Step_Interlude_1,{title:"第二次取样和测试"},""],[ENJ.Step_SuckLiquid,{bottle:"soySauce",volume:6,remain:!0},"吸取足量食用醋样品"],[ENJ.Step_BlowLiquid,{bottle:"soySauce",volume:4,remain:1,rotation:20,showLabel:!0},"留下4ml的食用醋样品"],[ENJ.Step_BlowLiquid,{beaker:2,volume:2,remain:1,showLabel:!0,offsetX:80,offsetY:100,rotation:15},"向干净烧杯中加入2ml的食用醋样品"],[ENJ.Step_BlowLiquid,{bottle:"bigBeaker",volume:.8,remain:2,rightNow:!0},"多余的样品，排入废液缸"],[ENJ.Step_EmptyPipet,{},"多余的样品，排入废液缸"],[ENJ.Step_WashElectrode,{},"清洗PH电极"],[ENJ.Step_WipeUpElectrode,{},"擦干PH电极"],[ENJ.Step_DumpToCylinder,{volume:20},"量取20ml的蒸馏水"],[ENJ.Step_DumpFromCylinder,{beaker:2},"加入到的烧杯中"],[ENJ.Step_AddRotor,{beaker:2,rotor:0},"加入一颗转子"],[ENJ.Step_StartStirrer,{beaker:2,rotor:0},"打开电子搅拌器，开始自动搅拌"],[ENJ.Step_DumpToBuret,{volume:82},"向滴定管中加入足量氢氧化钠溶液"],[ENJ.Step_BlowBuret,{bottle:"bigBeaker",volume:80},"滴定管中液面降至零刻度线"],[ENJ.Step_InstallBuret,{},"夹好滴定管"],[ENJ.Step_DropFromBuret,{volume:63.58,pHs:[4,8.2]},"滴定..."],[ENJ.Step_StopStirrer,{beaker:2,rotor:0},"关闭电子搅拌器"],[ENJ.Step_Record_2,{v1_2:16.42,v1:16.42},"记录第二次滴定体积，求出平均值"],[ENJ.Step_Interlude_2,{title:"第一次空白实验"},""],[ENJ.Step_WashElectrode,{},"清洗PH电极"],[ENJ.Step_WipeUpElectrode,{},"擦干PH电极"],[ENJ.Step_DumpToCylinder,{volume:22},"量取22ml的蒸馏水"],[ENJ.Step_DumpFromCylinder,{beaker:0},"加入到干净的烧杯中"],[ENJ.Step_AddRotor,{beaker:0,rotor:1},"加入一颗转子"],[ENJ.Step_StartStirrer,{beaker:0,rotor:1},"打开电子搅拌器，开始自动搅拌"],[ENJ.Step_DumpToBuret,{volume:82},"向滴定管中加入足量氢氧化钠溶液"],[ENJ.Step_BlowBuret,{bottle:"bigBeaker",volume:80},""],[ENJ.Step_InstallBuret,{},""],[ENJ.Step_DropFromBuret,{volume:79.99,pHs:[6.8,8.2],speed:20},""],[ENJ.Step_StopStirrer,{beaker:0,rotor:1},"关闭电子搅拌器"],[ENJ.Step_Record_2,{v2_1:.01},"记录第一次空白滴定体积"],[ENJ.Step_Interlude_2,{title:"第二次空白实验"},""],[ENJ.Step_WashElectrode,{},"清洗PH电极"],[ENJ.Step_WipeUpElectrode,{},"擦干PH电极"],[ENJ.Step_DumpToCylinder,{volume:22},"量取22ml的蒸馏水"],[ENJ.Step_DumpFromCylinder,{beaker:2},"加入到干净的烧杯中"],[ENJ.Step_AddRotor,{beaker:2,rotor:1},"加入一颗转子"],[ENJ.Step_StartStirrer,{beaker:2,rotor:1},"打开电子搅拌器，开始自动搅拌"],[ENJ.Step_DumpToBuret,{volume:82},"向滴定管中加入足量氢氧化钠溶液"],[ENJ.Step_BlowBuret,{bottle:"bigBeaker",volume:80},"滴定管中液面降至零刻度线"],[ENJ.Step_InstallBuret,{},"夹好滴定管"],[ENJ.Step_DropFromBuret,{volume:79.98,pHs:[6.8,8.2],speed:20},"滴定..."],[ENJ.Step_StopStirrer,{beaker:2,rotor:1},"关闭电子搅拌器"],[ENJ.Step_Record_2,{v2_2:.02,xx:5.84,canClose:!1},"记录第二次空白滴定体积，计算食用醋总酸度"]],t=0,e=i.length;e>t;++t)s=i[t],o.push(s[0]),n.push(s[1]),r.push(s[2]);this.steps=o,this.stores=n,this.tips=r}})}(),ENJ.Experiment=function(){function t(t,e,s){this.lab=t,this.scene=e,this.script=s,t.put(e),s.scene=e,s.start()}return t}(),ENJ.Lab=function(){function t(t){e.apply(this,arguments),this.register(),this.ready()}var e=CRE.Stage,s=CRE.Shape,i=CRE.Graphics,o=t.prototype=Object.create(e.prototype);return o.constructor=t,o.register=function(){this.progressBar=null},o.ready=function(){this.enableMouseOver();var t=new i;t.beginFill("#0f0").drawRect(0,0,600,5);var e=new s(t);t=new i,t.beginFill("#0f0").drawRect(0,0,600,1);var o=new s(t);this.addChild(o),o.set({x:180,y:255}),this.addChild(e),e.set({x:180,y:250}),this.progressBar=e},o.progress=function(t){this.progressBar.scaleX=t},o.put=function(t){this.removeAllChildren(),this.progressBar=null,this.addChild(t)},t}();var lab=new ENJ.Lab("stage");lab.active=!0,(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame)&&(CRE.Ticker.timingMode="raf"),CRE.Ticker.addEventListener("tick",update),RES.addEventListener("complete",function(){lab.progress(1);var t=new ENJ.Scene_2,e=new ENJ.Script_2;t.set({x:60,scaleX:ENJ.scaleY,scaleY:ENJ.scaleY}),new ENJ.Experiment(lab,t,e)}),RES.addEventListener("progress",function(t){lab.progress(t.progress)}),RES.loadManifest({path:"../../assets/",manifest:[{id:"手",src:"手.png"},{id:"水滴",src:"水滴.png"},{id:"水流",src:"水流.png"},{id:"纸巾",src:"纸巾.png"},{id:"转子",src:"转子.png"},{id:"袋子",src:"袋子.png"},{id:"粉末",src:"粉末.png"},{id:"剪刀",src:"剪刀.png"},{id:"引流棒",src:"引流棒.png"},{id:"标签",src:"标签.png"},{id:"吸球",src:"吸球.png"},{id:"吸嘴",src:"吸嘴.png"},{id:"蝴蝶夹",src:"蝴蝶夹.png"},{id:"滴定架",src:"滴定架.png"},{id:"滴定管",src:"滴定管.png"},{id:"滴定管液体",src:"滴定管液体.png"},{id:"磁力搅拌器",src:"磁力搅拌器.png"},{id:"磁力搅拌器旋钮",src:"磁力搅拌器旋钮.png"},{id:"PH仪",src:"PH仪.png"},{id:"PH仪面板",src:"PH仪面板.png"},{id:"PH电极",src:"PH电极.png"},{id:"PH电极套",src:"PH电极套.png"},{id:"酱油瓶",src:"酱油瓶.png"},{id:"酱油瓶盖",src:"酱油瓶盖.png"},{id:"酱油",src:"酱油.png"},{id:"容量瓶",src:"容量瓶.png"},{id:"容量瓶盖",src:"容量瓶盖.png"},{id:"容量瓶液体",src:"容量瓶液体.png"},{id:"量筒",src:"量筒.png"},{id:"量筒液体",src:"量筒液体.png"},{id:"盖子甲",src:"盖子甲.png"},{id:"试剂瓶",src:"试剂瓶.png"},{id:"试剂瓶液体",src:"试剂瓶液体.png"},{id:"氢氧化钠标签",src:"氢氧化钠标签.png"},{id:"移液管",src:"移液管.png"},{id:"移液管液体",src:"移液管液体.png"},{id:"移液管架",src:"移液管架.png"},{id:"蒸馏水瓶",src:"蒸馏水瓶.png"},{id:"烧杯",src:"烧杯.png"},{id:"烧杯液体",src:"烧杯液体.png"},{id:"关闭按钮",src:"关闭按钮.png"},{id:"结果报告2",src:"结果报告2.png"},{id:"背景",src:"背景.png"}]});